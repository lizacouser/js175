extends layout

block main
  section#tests
    header
      h2= student.name
      ul
        if student.size() > 0 && !student.isDone()
          li
            form.complete_all(action=`/students/${student.id}/complete_all`
                              method="post")
              button.check(type="submit") Complete All
        li
          form(action=`/students/${student.id}/edit` method="get")
            button.edit(type="submit") Edit Student

    ul
      each test in tests
        li(class=test.isDone() ? "done" : "")
          form.check(action=`/students/${student.id}/tests/${test.id}/toggle` method="post")
            input(type="hidden" name="done" value=!test.isDone())
            if !test.isDone()
              input(type="number"
                  id="verbalScore"
                  name="verbalScore"
                  placeholder="500"
                  value=verbalScore)
              input(type="number"
                  id="mathScore"
                  name="mathScore"
                  placeholder="500"
                  value=mathScore)
              input(type="checkbox" id="projected" name="projected" value="Projected")
              label(for="projected") Projected 
              input(type="checkbox" id="mock" name="mock" value="Mock")
              label(for="mock") Mock
            button Done
          br
          br
          h3= test.title
          if test.getScore()
            if test.isMock
              p MOCK
            if test.isProjectedScore
              p *#{test.logScore()}
            else
              p= test.logScore()


    form(action=`/students/${student.id}/tests` method="post")
      fieldset.actions
        button Add test pack

block headerLinks
  .actions
    a.student(href="/students") All Students
